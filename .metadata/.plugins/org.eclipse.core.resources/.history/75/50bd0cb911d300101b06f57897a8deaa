package pe.com.arreglago;

import org.springframework.boot.CommandLineRunner;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;
import org.springframework.context.annotation.Bean;

import pe.com.arreglago.service.UsuarioService;
import pe.com.arreglago.service.impl.UsuarioServiceImpl;

@SpringBootApplication
public class ArreglaGoApplication {

	public static void main(String[] args) {
		SpringApplication.run(ArreglaGoApplication.class, args);
	}

	// ðŸ›‘ Bean que se ejecuta al inicio de la aplicaciÃ³n ðŸ›‘
    @Bean
    public CommandLineRunner runAdminHashGenerator(UsuarioService usuarioService) {
        return args -> {
            // AsegÃºrate de castear el servicio a la implementaciÃ³n si no tienes la interfaz
            // con el mÃ©todo generateAdminHash.
            UsuarioServiceImpl usuarioServiceImpl = (UsuarioServiceImpl) usuarioService;
            
            String plainPassword = "admin123";
            String hashedPassword = usuarioServiceImpl.generateAdminHash(plainPassword);
            
            // ðŸš¨ COPIA EL HASH QUE APARECE EN LA CONSOLA ðŸš¨
            System.out.println("==========================================================");
            System.out.println("           ðŸ”‘ HASH GENERADO PARA 'admin123' ðŸ”‘           ");
            System.out.println("           COPIA ESTE HASH EN TU COMANDO SQL:           ");
            System.out.println("HASH: " + hashedPassword);
            System.out.println("==========================================================");
        };
    }
}
